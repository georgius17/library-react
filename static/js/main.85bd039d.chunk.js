(this.webpackJsonplibrary3=this.webpackJsonplibrary3||[]).push([[0],{200:function(e,t,n){e.exports={Input:"Input_Input__3fK7P",Label:"Input_Label__34Sn5",InputElement:"Input_InputElement__Ooq4A",Invalid:"Input_Invalid__2tJbn"}},201:function(e,t,n){e.exports={Modal:"Modal_Modal__1w98b",ModalOpen:"Modal_ModalOpen__1m1xX",openModal:"Modal_openModal__1EAFz",ModalClosed:"Modal_ModalClosed__30FjQ",closeModal:"Modal_closeModal__ecQQZ"}},237:function(e,t,n){e.exports={header:"Toolbar_header__1lCeC",h2:"Toolbar_h2__3pEnO"}},238:function(e,t,n){e.exports={FormData:"LibraryForm_FormData__2h7pZ",Input:"LibraryForm_Input__2jBsH",Reset:"LibraryForm_Reset__1f6-f"}},239:function(e,t,n){e.exports={Button:"Button_Button__3h9Fb",Success:"Button_Success__1s9q7",Danger:"Button_Danger__1lxLJ"}},343:function(e,t,n){e.exports={Content:"Layout_Content__PrDi6"}},345:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__38_ho"}},346:function(e,t,n){e.exports={newButton:"BooksPage_newButton__3OQ4z"}},362:function(e,t,n){e.exports=n(459)},367:function(e,t,n){},368:function(e,t,n){},459:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(16),l=n.n(r),i=n(342),s=(n(367),n(54)),u=n(55),c=n(59),d=n(58),p=n(343),m=n.n(p),h=function(e){return e.children},f=n(237),b=n.n(f),v=function(){return a.a.createElement("header",{className:b.a.header},a.a.createElement("h2",{className:b.a.h2},"Your library"))},k=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(h,null,a.a.createElement(v,null),a.a.createElement("main",{className:m.a.Content},this.props.children))}}]),n}(o.Component),_=(n(368),n(93)),O=n(200),g=n.n(O),y=function(e){var t=null,n=[g.a.InputElement];switch(e.invalid&&e.validation&&e.touched&&n.push(g.a.Invalid),e.elementType){case"input":t=a.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=a.a.createElement("select",{className:n.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value}," ",e.displayValue," ")})));break;default:t=a.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return a.a.createElement("div",null,a.a.createElement("label",{className:g.a.Label},e.label),t)},E=n(238),B=n.n(E),w=n(239),j=n.n(w),C=function(e){return a.a.createElement("button",{disabled:e.disabled,className:[j.a.Button,j.a[e.btnType]].join(" "),onClick:e.clicked},e.children)},I=n(61),S=function(e){return{type:"ADD_BOOK",bookData:e}},M=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={newBook:{title:{elementType:"input",elementConfig:{type:"text",placeholder:"Title of your book"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},author:{elementType:"input",elementConfig:{type:"text",placeholder:"Author"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1},pages:{elementType:"input",elementConfig:{type:"number",placeholder:"Number of pages",min:"10",max:"5000"},value:"",validation:{required:!0},valid:!1,touched:!1},status:{elementType:"select",elementConfig:{options:[{value:"read",displayValue:"Read"},{value:"unread",displayValue:"Unread"}]},value:"unread",validation:{required:!0},valid:!0,touched:!1},notes:{elementType:"input",elementConfig:{type:"text",placeholder:"Your notes about the book"},value:"",validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1},e.baseState=e.state,e.resetForm=function(){e.setState(e.baseState),e.props.submitted()},e.inputChangeHandler=function(t,n){var o=Object(_.a)({},e.state.newBook),a=Object(_.a)({},o[n]);a.value=t.target.value,a.touched=!0,a.valid=e.checkValidity(a.value,a.validation),o[n]=a;var r=!0;for(var l in o)r=o[l].valid&&r;e.setState({newBook:o,formIsValid:r})},e.addBookHandler=function(t){t.preventDefault();var n={title:e.state.newBook.title.value,author:e.state.newBook.author.value,pages:e.state.newBook.pages.value,status:e.state.newBook.status.value,notes:e.state.newBook.notes.value};e.props.onAddBook(n),e.props.submitted()},e}return Object(u.a)(n,[{key:"checkValidity",value:function(e,t){var n=!1;return t.required&&(n=""!==e.trim()),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.newBook)t.push({id:n,config:this.state.newBook[n]});var o=a.a.createElement("form",{onSubmit:this.addBookHandler,onReset:function(){return e.resetForm()},onLoad:function(){return e.resetForm()}},t.map((function(t){return a.a.createElement(y,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,validation:t.config.validation,invalid:!t.config.valid,touched:t.config.touched,changed:function(n){return e.inputChangeHandler(n,t.id)}})})),a.a.createElement(C,{btnType:"Success",disabled:!this.state.formIsValid},"Submit"),a.a.createElement("input",{className:B.a.Reset,type:"reset",value:"Cancel"}));return a.a.createElement("div",{className:B.a.FormData},o)}}]),n}(o.Component),x=Object(I.b)(null,(function(e){return{onAddBook:function(t){return e(S(t))}}}))(M),T=n(201),D=n.n(T),N=n(345),F=n.n(N),A=function(e){return e.show?a.a.createElement("div",{className:F.a.Backdrop,onClick:e.clicked}):null},L=n(353),R=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(h,null,a.a.createElement(A,{show:this.props.show,clicked:this.props.modalClosed}),a.a.createElement(L.a,{mountOnEnter:!0,unmountOnExit:!0,in:this.props.show,timeout:{enter:400,exit:1e3},classNames:{enter:"",enterActive:D.a.ModalOpen,exit:"",exitActive:D.a.ModalClosed}},a.a.createElement("div",{className:D.a.Modal},this.props.children)))}}]),n}(o.Component),V=n(346),q=n.n(V),H=n(347),J=n.n(H),K=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={data:null},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){localStorage.setItem("books",JSON.stringify(this.props.books))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{maxWidth:"100%"}},a.a.createElement(J.a,{columns:[{title:"Title",field:"title"},{title:"Author",field:"author"},{title:"Pages",field:"pages"},{title:"Read",field:"status",type:"boolean"},{title:"Notes",field:"notes"}],title:"",editable:{onRowUpdate:function(t,n){return new Promise((function(o,a){setTimeout((function(){var a=e.props.books,r=a.indexOf(n);a[r]=t,e.setState({},(function(){return o()})),e.props.onEditBook(a),o()}),1e3)}))},onRowDelete:function(t){return new Promise((function(n,o){setTimeout((function(){var o=e.props.books,a=o.indexOf(t);o.splice(a,1),e.setState({},(function(){return n()})),e.props.onEditBook(o),n()}),1e3)}))}},data:this.props.books}))}}]),n}(o.Component),P=Object(I.b)((function(e){return{books:e.books}}),(function(e){return{onEditBook:function(t){return e(function(e){return{type:"EDIT_BOOK",updatedBooks:e}}(t))}}}))(K),Q=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={modalIsOpen:!1,showBlock:!1,resetForm:!1},e.showModal=function(){e.setState({modalIsOpen:!0,resetForm:!1}),console.log("Show modal")},e.closeModal=function(){e.setState({modalIsOpen:!1,resetForm:!0}),console.log("close modal")},e}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(h,null,a.a.createElement(R,{show:this.state.modalIsOpen,modalClosed:this.closeModal},a.a.createElement(x,{submitted:this.closeModal})),a.a.createElement("div",{className:q.a.newButton},a.a.createElement(C,{btnType:"Success",clicked:this.showModal},"Add new book")),a.a.createElement(P,null))}}]),n}(o.Component),U=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("books");if(e)this.props.onFetchBooks(JSON.parse(e));else{this.props.onAddBook({title:"Robinson Crusoe",author:"Daniel Defoe",pages:"252",status:!0,notes:"very great book"}),this.props.onAddBook({title:"The Old Man and the Sea",author:"Ernest Hemingway",pages:"127",status:!0,notes:"such an inspirative book"}),localStorage.setItem("books",JSON.stringify(this.props.books))}}},{key:"render",value:function(){return a.a.createElement(k,null,a.a.createElement(Q,null))}}]),n}(o.Component),W=Object(I.b)((function(e){return{books:e.books}}),(function(e){return{onAddBook:function(t){return e(S(t))},onFetchBooks:function(t){return e(function(e){return{type:"FETCH_BOOKS",storedBooks:e}}(t))}}}))(U),X=n(62);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z={books:[]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return Object(_.a)({},e,{books:e.books.concat(Object(_.a)({},t.bookData))});case"EDIT_BOOK":return Object(_.a)({},e,{books:t.updatedBooks});case"FETCH_BOOKS":return Object(_.a)({},e,{books:t.storedBooks});default:return e}},Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,$=Object(X.d)(Y,Z(Object(X.a)(i.a)));l.a.render(a.a.createElement(I.a,{store:$},a.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[362,1,2]]]);
//# sourceMappingURL=main.85bd039d.chunk.js.map